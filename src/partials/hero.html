<section class="hero">
    <div class="container hero__div">
        <h1 class="hero__title">Nice view</h1>
        <p class="hero__text">For your comfortable life with your family</p>
        <button class="hero__btn" id="open-modal">Contact us</button>
    </div>
</section>


<div class="modal is-hidden" id="modal">
    <div class="modal-content">
        <span class="close" id="close-modal">&times;</span>
        <div class="modal-body">
            <img class="modal-image" src="./img/hero.modalka.png" alt="Person reading">
            <h2 class="modal-title" id="modalTitle">Download the catalog</h2>
            <p class="modal-text" id="modalText">We will send you more photos,<br>videos and information by mail</p>
            <form id="emailForm" class="modal-form">
                <div class="input-container">
                    <input type="email" id="emailInput" class="modal-input" placeholder="EMAIL ADDRESS" required>
                    <button type="submit" class="modal-button">&rarr;</button>
                </div>
            </form>
            <div id="successMessage" class="hidden success-message">
                <h2 class="modal-success-title">GREAT!</h2>
                <p class="modal-success-text">NOW CHECK YOUR MAIL</p>
            </div>
        </div>
    </div>
</div>

<script>
    function resetModal() {
        document.getElementById("emailForm").style.display = "block";
        document.getElementById("modalTitle").style.display = "block";
        document.getElementById("modalText").style.display = "block";
        const successMessage = document.getElementById("successMessage");
        successMessage.classList.add("hidden");
    }

    document.getElementById("open-modal").addEventListener("click", function () {
        resetModal();
        const modal = document.getElementById("modal");
        modal.classList.remove("is-hidden");
        modal.classList.add("fade-in");
        modal.style.display = "flex";
    });

    document.getElementById("close-modal").addEventListener("click", function () {
        const modal = document.getElementById("modal");
        modal.classList.add("fade-out");
        setTimeout(() => {
            modal.classList.add("is-hidden");
            modal.style.display = "none";
            modal.classList.remove("fade-out");
        }, 300);
    });

    document.getElementById("modal").addEventListener("click", function (event) {
        if (event.target === this) {
            this.classList.add("fade-out");
            setTimeout(() => {
                this.classList.add("is-hidden");
                this.style.display = "none";
                this.classList.remove("fade-out");
            }, 300);
        }
    });

    document.getElementById("emailForm").addEventListener("submit", function (event) {
        event.preventDefault();
        document.getElementById("emailForm").style.display = "none";
        document.getElementById("modalTitle").style.display = "none";
        document.getElementById("modalText").style.display = "none";
        const successMessage = document.getElementById("successMessage");
        successMessage.classList.remove("hidden");
        successMessage.classList.add("fade-in");
    });
</script>